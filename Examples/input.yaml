# This is an example input file for a sequential ORCA workflow.
# Replace <your_template_directory>, <your_scratch_directory>, and <your_output_directory>
template_dir: <your_template_directory>
scratch_dir: <your_scratch_directory>
output_dir: <your_output_directory>
orca_excutable: <path_to_your_orca_executable>
# Optional: Override default initial structure (default is /template_dir/step1.xyz)
initial_xyz: /path/to/your/custom_initial_structure.xyz

# === Global configuration ===
charge: 0
multiplicity: 1 

# === Step-by-step workflow ===
steps:
  # Step 1: Using GOAT
  - step: 1
    calculation_type: "GOAT"    # Options are "GOAT", "MLFF","DFT","PES","Docker","Solvator"
    sample_type:
      method: "integer"         # Options are "integer", "boltzmann", "energy_window", "high_energy"
      parameters: 
        num_structures: 0

  # Step 2: MLFF with Boltzmann sampling
  - step: 2
    calculation_type: "MLFF"
    mlff:
      model_name: "medium"      # For MACE: small,medium,large for FAIRCHEM "uma-s-1"
      task_name: "mace_off"     # For MACE: "mace_off" or "mace_mp", for FairChem:oc20, omat, omol, odac, omc
      bind: '127.0.0.1:8888'    # ChemRefine uses a local server to avoid initializing the model multiple times, only adjust this if you know what you're doing. 
    sample_type:
      method: "boltzmann"
      parameters:
        weight: 99.99

  # Step 3: DFT refinement with overridden charge and multiplicity
  - step: 3
    calculation_type: "DFT"
    charge: -1                  # <--- Step-specific override
    multiplicity: 2            # <--- Step-specific override
    sample_type:
      method: "energy_window"
      parameters:
        energy: 1               # In Hartrees
        unit: kcal/mol          # Options: kcal/mol, hartree

  # Step 4: Final high-precision DFT
  - step: 4
    calculation_type: "DFT"
    sample_type:
      method: "integer"
      parameters: 
        num_structures: 0
